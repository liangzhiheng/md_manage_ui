<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>用户管理</title>
    <link href="../css/layui.css" rel="stylesheet">
</head>
<body>
    <!-- 搜索框 -->
    <div class="layui-form">
        <div class="layui-form-item">
            <div class="layui-input-group">
                <div class="layui-input-prefix">
                搜索
                </div>
                <input type="text" placeholder="带任意前置和后置内容" class="layui-input" id="search_username">
                <div class="layui-input-split layui-input-suffix" style="cursor: pointer;">
                    <i id="search" class="layui-icon layui-icon-search"></i>
                </div>
            </div>
        </div>
    </div>

    <!-- 新建与删除按钮 -->
    <div class="layui-btn-container">  
        <button type="button" class="layui-btn layui-btn-sm" lay-on="create_user">新建</button>
        <button type="button" class="layui-btn layui-btn-sm" lay-on="delete_users">批量删除</button>
    </div>

    <!-- 用户列表 -->
    <div class="body">
        <table class="layui-hide" id="users" lay-filter="users"></table>
        <div id="users-page"></div>
    </div>
    <!-- <div id="users_page"></div> -->
</body>


<!-- 新建用户弹窗 -->
<form class="layui-form" id="create_user_layer" style="display: none;">
    <div class="layui-form-item">
        <label class="layui-form-label">账号</label>
        <div class="layui-input-inline layui-input-wrap">
            <input type="text" name="account" lay-verify="required" autocomplete="off" lay-affix="clear" class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">密码</label>
        <div class="layui-input-inline layui-input-wrap">
            <input type="text" name="password" lay-verify="required" autocomplete="off" lay-affix="clear" class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">昵称</label>
        <div class="layui-input-inline layui-input-wrap">
            <input type="text" name="name" lay-verify="required" autocomplete="off" lay-affix="clear" class="layui-input">
        </div>
    </div>
    <div class="layui-form-item" pane>
        <label class="layui-form-label">身份</label>
        <div class="layui-input-block">
            <input type="checkbox" name="is_admin" lay-skin="switch" lay-filter="switchTest" title="管理员|普通用户">
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-input-block">
            <button type="submit" class="layui-btn" lay-submit lay-filter="create_user_submit">立即提交</button>
        </div>
    </div>
</form>


<!-- 是否为管理员 -->
<script type="text/html" id="users-is-admin-switch" lay-event="test">
    <!-- 这里的 checked 的状态值判断仅作为演示 -->
    <input type="checkbox" name="{{= d.id + ' ' + d.name}}" value="{{= d.is_admin }}" title="是|否" lay-skin="switch" lay-filter="is_admin" {{= d.is_admin == true ? "checked" : "" }}>
</script>

<!-- 用户操作按钮 -->
<script type="text/html" id="user_operations">
    <div class="layui-clear-space layui-inline">
        <a class="layui-btn layui-btn-xs" lay-event="change_password">修改密码</a>
    </div>
    <div class="layui-clear-space layui-inline">
        <a class="layui-btn layui-btn-xs" lay-event="delete">删除</a>
    </div>
</script>


<script src="../layui.js"></script>
<script src="../js/users.js" type="module"></script>